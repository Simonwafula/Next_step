{"timestamp":"2026-02-06 12:05","tool":"codex-gpt5","branch":"feat/T-800-comprehensive-audit","commit":"361d9e6c286a89b93ec5bc88d8f0e94bdb510061","status":"DONE T-800 comprehensive audit (ruff-clean, safer embedding parsing, schema alignment, repo hygiene)","next_step":"Open PR for feat/T-800-comprehensive-audit; harden Twilio webhook auth; add dev requirements for ruff"}
{"timestamp":"2026-02-06 12:19","tool":"codex-gpt5","branch":"feat/T-800-comprehensive-audit","commit":"0cc000eeb8890954e5fb54255fb6e4fd6fcc524e","status":"DONE frontend XSS hardening (escape HTML + restrict href to http(s))","next_step":"Open PR for feat/T-800-comprehensive-audit; consider moving auth tokens to httpOnly cookies"}
{"timestamp":"2026-02-06 13:11","tool":"codex-gpt5","branch":"feat/T-800-comprehensive-audit","commit":"66fdcad288283b34af7ee9b1ecfbe91cf9ac47ac","status":"DONE implement audit improvement proposals (dev tooling capture, Twilio webhook verification, cookie-friendly auth, pgvector dual storage, normalized tests)","next_step":"Open PR for feat/T-800-comprehensive-audit; decide cookie-first frontend auth + CSRF posture; enable pgvector index build (PGVECTOR_CREATE_INDEX=true) during a controlled window"}
{"timestamp":"2026-02-09 00:00","tool":"claude-opus-4-6","branch":"main","commit":"pending","status":"DONE hardening + test coverage (T-403d dashboard tests 42, T-601c incremental dedup+embed 10, T-603a/b regression 34, T-731 systemd 5 units, T-732 upsert 11) — 99 tests pass","next_step":"cookie-first auth decision; pgvector index build; T-500b tender normalization; T-502a signal aggregation; T-602c alerting hooks"}
{"timestamp":"2026-02-09 20:00","tool":"codex-gpt5","branch":"main","commit":"b27399d","status":"DONE VPS revive + deploy: fix ruff failures (T-901), cookie auth + Twilio webhook signature validation + SkillNER evidence hardening (T-902); OpenLiteSpeed now proxies /health; backend restarted; pytest passes on VPS","next_step":"Consider turning scripts/repo_smoke_test.py into non-pytest module (PytestReturnNotNoneWarning); add slow-start note/healthcheck grace period for nextstep-backend.service"}
{"timestamp":"2026-02-10 00:00","tool":"codex-gpt5","branch":"feat/T-610-unified-post-processing","commit":"5a356c7","status":"DONE unify post-ingestion processing for all sources + admin quality/process endpoints (gov wrappers preserved); tests green","next_step":"Open PR for feat/T-610-unified-post-processing; optionally wire Celery/scheduler to run /api/admin/process after ingestion and set per-source quality thresholds"}
{"timestamp":"2026-02-10 11:35","tool":"codex-gpt5","branch":"main","commit":"9af05a0","status":"DONE T-620 Phase 1 (O0/P0): public search aggregates (title clusters + companies hiring) + /r/apply/{job_id} logging redirect; JobPost source_url/application_url migration + writers; SkillNER alias normalization stabilized; deployed to VPS and tests green","next_step":"Proceed to Phase 2 (role baselines + MVIL datasets) only after confirming public search UX on nextstep.co.ke is satisfactory."}
{"timestamp": "2026-02-10 17:56", "tool": "codex-gpt5", "branch": "main", "commit": "4b6f774", "status": "DONE quarantine 296 gov non-job pages in prod (is_active=false); fix /api/search crash on dict skills; proxy /r/ to backend so public apply redirects work", "next_step": "Tighten gov quarantine heuristics for remaining junk (e.g. County Forum, News Updates); add scheduled quarantine + quality gates so bad pages never influence aggregates; proceed to Outcome Plan v2 Phase 2 MVIL datasets."}
{"timestamp":"2026-02-14 18:22","tool":"codex-gpt5","branch":"feat/T-630-fix-json-import-postgres","commit":"a8efa899774e5dd137bc0dbff7a64be0a15e7547","status":"DONE VPS upload+import jobs_export.json into Postgres; fix import_jobs_to_db.py for attachment_flag + location dedupe + caching","next_step":"Backfill job_entities/job_embeddings on VPS for newly imported jobs (run processing + embeddings pipeline)."}
{"timestamp":"2026-02-14 23:07","tool":"codex-gpt5","branch":"feat/T-740-scheduled-scrape-processing","commit":"de1a9bfb6a65fa3a5f6107412696efc9cbe1bec9","status":"DONE scheduled scraping + deterministic processing pipeline via `python -m cli pipeline` (systemd template + optional Celery beat); enable pattern backstop in skill extraction; docs/changemap updated; tests green","next_step":"Merge feat/T-740-scheduled-scrape-processing to main; deploy on VPS with Postgres `DATABASE_URL`; choose scheduler (systemd timer vs Celery beat) and set `ENABLE_CELERY_PIPELINE` accordingly."}
{"timestamp":"2026-02-15 07:30","tool":"codex-gpt5","branch":"feat/T-740-scheduled-scrape-processing","commit":"be19852","status":"DONE systemd embeddings backfill timer deployed on VPS; search scoring hardened to avoid hash-vector ranking when transformers are disabled; templates/docs/changemap updated; tests green","next_step":"Monitor `job_embeddings` backfill completion on VPS; decide how to generate query embeddings for semantic search (enable transformers with fewer workers or add a separate embedding service), then re-enable semantic scoring end-to-end."}
{"timestamp":"2026-02-15 10:55","tool":"codex-gpt5","branch":"feat/T-740-scheduled-scrape-processing","commit":"0593884","status":"DONE align /api/scrapers + Celery scraper tasks with config.yaml SiteSpider; run deterministic post-processing after scrape; skip sqlite->postgres migration when USE_POSTGRES=true; formatted files to satisfy ruff; tests green","next_step":"Deploy updated `backend/app/services/scraper_service.py` to VPS and restart celery worker/beat so scheduled scraper runs actually insert jobs; confirm processing_log shows non-zero scrape/insert counts."}
{"timestamp":"2026-02-15 14:35","tool":"codex-gpt5","branch":"feat/T-740-scheduled-scrape-processing","commit":"d01868e","status":"DONE LMI monetization foundations: job-match scoring, salary intelligence estimates, skills-gap scan, career pathways, and admin LMI quality metrics (API + UI) with focused tests passing","next_step":"Implement B2B LMI report generation/export endpoints and wire admin actions for downloadable quarterly reports."}
{"timestamp":"2026-02-15 16:10","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE Phase 1 paywall continuation: added subscription plans/checkout/activate endpoints, gated career pathways by professional tier, and wired skills-gap + career-pathways UI upgrade prompts to checkout flow; targeted tests passing (11/11)","next_step":"Integrate real Stripe/M-Pesa callbacks/webhooks to validate payment events before activating subscriptions in production."}
{"timestamp":"2026-02-15 16:45","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE verified payment callbacks: added signed Stripe/M-Pesa webhooks (`/api/payments/webhooks/stripe`, `/api/payments/webhooks/mpesa`) and user-id-based activation path; payment+paywall test suite passing (14/14)","next_step":"Replace placeholder checkout URLs with real provider session/init APIs and persist provider transaction references for idempotent reconciliation."}
{"timestamp":"2026-02-15 17:05","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE conversion tracking instrumentation: logged subscription_upgrade events and added free→paid metrics to /api/admin/lmi-quality with admin UI rendering; focused tests passing (12/12 across dashboard+subscription suites)","next_step":"Add time-series conversion trend endpoint (daily/weekly) for cohort visualization in admin dashboard and alert on conversion drop-offs."}
{"timestamp":"2026-02-15 17:25","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE conversion trend timeseries: added 14-day upgrades/new-users/conversion-rate series in /api/admin/lmi-quality and rendered 14-day summary stats in admin UI; focused regressions passing (6/6)","next_step":"Add automated drop-off alerting when 7-day conversion average falls below threshold and expose trend charts in admin panel."}
{"timestamp":"2026-02-15 17:45","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE conversion drop-off alerting: added 7-day threshold-based conversion_alert signal in /api/admin/lmi-quality and surfaced alert status in admin UI; focused regressions passing (7/7)","next_step":"Route warning alerts to notification channels (admin email/WhatsApp/in-app) and add configurable threshold controls."}
{"timestamp":"2026-02-15 18:30","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE conversion warning notification routing: added cooldowned admin dispatch service for in-app/email/WhatsApp alerts and wired warning trigger from /api/admin/lmi-quality; focused regressions passing (9/9)","next_step":"Add configurable conversion threshold and channel toggles from admin settings/env controls."}
{"timestamp":"2026-02-15 19:05","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE configurable conversion alert controls: threshold/cooldown/channel toggles moved to env settings and wired through admin alert flow with new regression tests; focused regressions passing (11/11)","next_step":"Expose these controls in admin settings UI/API so ops can update without env redeploys."}
{"timestamp":"2026-02-15 19:35","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE admin settings UI/API for conversion alert controls: added runtime GET/PUT settings endpoints, persisted overrides, wired admin UI form, and applied overrides in lmi-quality dispatch flow; focused regressions passing (11/11)","next_step":"Add audit history view for settings changes in admin UI and optional role-based guard for settings edits."}
{"timestamp":"2026-02-15 20:05","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE alert settings audit history view: added /api/admin/lmi-alert-settings/history endpoint, rendered recent history in admin panel, and added regression tests; focused regressions passing (12/12)","next_step":"Add explicit role-based guard/audit metadata expansion (IP/request source) for settings edits if needed."}
{"timestamp":"2026-02-15 20:35","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE settings edit guard and audit metadata: added ADMIN_SETTINGS_EDITORS allowlist enforcement and stored request IP/user-agent for settings updates, with history endpoint returning metadata; focused regressions passing (13/13)","next_step":"Optional: show audit metadata (IP/user-agent) directly in admin history UI or add export/download for compliance review."}
{"timestamp":"2026-02-15 21:05","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 1 models: added role_skill_baseline, role_education_baseline, role_experience_baseline, and role_demand_snapshot models with required evidence fields and tests; plan progress updated to 1/8 tasks complete","next_step":"Implement MVIL Task 2 aggregation service and refresh function over existing job/entity/skill datasets."}
{"timestamp":"2026-02-15 21:45","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 2 aggregation service: added role baseline compute functions + transactional refresh with mixed-shape normalization, family quality filters, deterministic evidence IDs, and rollback safety tests; plan progress updated to 2/8 tasks complete","next_step":"Implement MVIL Task 3 admin refresh endpoint and ingestion runner hook for baseline recomputation."}
{"timestamp":"2026-02-15 22:15","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 3 admin refresh endpoint: added protected POST /api/admin/mvil/refresh wired to refresh_all_baselines with success/error processing logs and endpoint tests; plan progress updated to 3/8 tasks complete","next_step":"Implement MVIL Task 4 Explore mode API to return role-level career cards backed by baseline evidence IDs."}
{"timestamp":"2026-02-15 22:45","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 4 Explore mode API: added guided_search service and GET /api/guided/explore endpoint returning evidence-backed career cards with low-confidence flags and empty-baseline fallback behavior; tests added and passing","next_step":"Implement MVIL Task 5 Match mode API for early-career role matching with overlap and missing skills guidance."}
{"timestamp":"2026-02-15 23:15","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 5 Match mode API: added match_roles service and GET /api/guided/match endpoint with skill-overlap + education-fit scoring, starter job previews, and authenticated profile skills fallback; tests added and passing","next_step":"Implement MVIL Task 6 Advance mode API for professional transition cards with skill-gap difficulty proxy."}
{"timestamp":"2026-02-15 23:45","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Task 6 Advance mode API: added advance_transitions service and GET /api/guided/advance endpoint with feasibility-sorted transition cards, skill gaps/shared skills, difficulty classification, demand trend, and target job previews; tests added and passing","next_step":"Implement MVIL Task 7 search mode routing to attach guided_results to /api/search for authenticated users."}
{"timestamp":"2026-02-15 23:58","tool":"copilot-gpt5.3-codex","branch":"feat/T-740-scheduled-scrape-processing","commit":"pending","status":"DONE MVIL Tasks 7-8: added /api/search guided mode routing (explore/match/advance) with auth-gated mode_error semantics and profile fallback, plus frontend guided mode tabs/results rendering in index/main.js/main.css; all focused regressions passing","next_step":"Run full-stack manual check on an environment with uvicorn installed, then merge PR to main."}
{"timestamp":"2026-02-15 15:02","tool":"copilot-gpt5.3-codex","branch":"feat/T-741-telegram-opportunity-ingest","commit":"1219408","status":"DONE T-741 sources expansion: added sources.yaml runner + per-source post-processing, hardened gov_careers connector with retries/timeout/user-agent, updated Global South list URL, and deployed to VPS with new nextstep-ingest-sources systemd timer; Telegram connector deployed but awaiting TELEGRAM_* env/session","next_step":"Add TELEGRAM_API_ID/TELEGRAM_API_HASH/TELEGRAM_SESSION to /home/nextstep.co.ke/.env, run scripts/telegram_create_session.py, then start nextstep-ingest-sources.service to begin Telegram backfill."}
{"timestamp":"2026-02-15 16:20","tool":"copilot-gpt5.3-codex","branch":"feat/T-741-telegram-opportunity-ingest","commit":"pending","status":"DONE T-602 monitoring hardening + signals/admin compatibility: added operations thresholds to monitoring summary, idempotent signal aggregation with evidence-link logging, restored /api/admin/lmi-* compatibility endpoints, updated changemap + backend monitoring docs; focused regressions passing (11/11)","next_step":"Merge branch and deploy updated monitoring/signals/admin routes; monitor operations gates in /api/admin/monitoring/summary with record=true in scheduled checks."}
